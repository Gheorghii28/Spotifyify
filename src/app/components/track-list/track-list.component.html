<div *ngIf="track" class="track c-pointer">
  <div class="track-number">
    <div class="not-hover-actions">
      <ng-container
        *ngIf="
          state.playing &&
            playingTrack.index === trackIndex &&
            playingTrack.playlistId === track.playlistId;
          else soundNr
        "
      >
        <app-soundwave></app-soundwave
      ></ng-container>
      <ng-template #soundNr>
        <span>{{ trackIndex + 1 }}</span></ng-template
      >
    </div>
    <button
      class="btn-non-style hover-actions"
      *ngIf="state"
      [disabled]="state.error"
      (click)="togglePlayPause($event)"
    >
      <ng-container
        *ngIf="
          state.playing &&
            playingTrack.index === trackIndex &&
            playingTrack.playlistId === track.playlistId;
          else playIcon
        "
      >
        <span
          class="material-symbols-outlined play-circle c-pointer"
          style="font-size: 24px"
        >
          pause
        </span></ng-container
      >
      <ng-template #playIcon>
        <span
          class="material-symbols-outlined play-circle c-pointer"
          style="font-size: 24px"
        >
          play_arrow
        </span></ng-template
      >
    </button>
  </div>
  <img [src]="track.img" />
  <div class="track-title featured">
    <span class="title">{{ track.name }}</span>
    <ng-container *ngFor="let artist of track.artists">
      <span class="feature">{{ artist.name }}</span>
    </ng-container>
  </div>
  <app-like-button [trackId]="track.id" [likedStatus]="track.likedStatus"></app-like-button>
  <div class="track-length">{{ track.durationMs | date : "mm:ss" }}</div>
</div>
